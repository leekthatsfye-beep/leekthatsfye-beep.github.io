<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FY3 Beats - TikTok Connected</title>
<style>
body{font-family:-apple-system,BlinkMacSystemFont,sans-serif;display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;background:#1a1a2e;color:#fff}
.card{background:#16213e;border-radius:16px;padding:40px;max-width:500px;width:90%;text-align:center;box-shadow:0 8px 32px rgba(0,0,0,0.3)}
h1{color:#4ecca3;margin-bottom:10px}
.code-box{background:#0f3460;border:2px solid #4ecca3;border-radius:8px;padding:16px;margin:20px 0;word-break:break-all;font-family:monospace;font-size:14px;cursor:pointer;position:relative}
.code-box:hover{border-color:#fff}
.btn{background:#4ecca3;color:#1a1a2e;border:none;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:bold;cursor:pointer;margin-top:10px}
.btn:hover{background:#3ba88f}
.error{color:#e74c3c}
.step{color:#a0a0b0;margin-top:20px;font-size:14px}
#copied{color:#4ecca3;font-weight:bold;display:none;margin-top:8px}
</style>
</head>
<body>
<div class="card">
<div id="success" style="display:none">
<h1>TikTok Connected!</h1>
<p>Copy the code below and paste it into your Telegram bot:</p>
<div class="code-box" id="codeBox" onclick="copyCode()"></div>
<button class="btn" onclick="copyCode()">Copy Code</button>
<div id="copied">Copied!</div>
<p class="step">Go back to Telegram and paste this code when prompted.</p>
</div>
<div id="error-div" style="display:none">
<h1 class="error">Connection Failed</h1>
<p id="error-msg"></p>
<p class="step">Go back to Telegram and run /tiktok_setup again.</p>
</div>
<div id="loading">
<h1>Processing...</h1>
</div>
</div>
<script>
(function(){
var p=new URLSearchParams(window.location.search);
var code=p.get("code");
var err=p.get("error")||p.get("error_description");
document.getElementById("loading").style.display="none";
if(code){
document.getElementById("success").style.display="block";
document.getElementById("codeBox").textContent=code;
}else{
document.getElementById("error-div").style.display="block";
document.getElementById("error-msg").textContent="Error: "+(err||"No authorization code received.");
}
})();
function copyCode(){
var code=document.getElementById("codeBox").textContent;
navigator.clipboard.writeText(code).then(function(){
document.getElementById("copied").style.display="block";
setTimeout(function(){document.getElementById("copied").style.display="none";},2000);
});
}
</script>
</body>
</html>
